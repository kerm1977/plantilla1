/*
* --------------------------------------------------------------------------
* SECCIÓN 1: DEFINICIÓN DE VARIABLES DE TEMA
* --------------------------------------------------------------------------
*/

/* TEMA CLARO (POR DEFECTO) */
:root {
    --bs-blue: #0d6efd; --bs-indigo: #6610f2; --bs-purple: #6f42c1; --bs-pink: #d63384;
    --bs-red: #dc3545; --bs-orange: #fd7e14; --bs-yellow: #ffc107; --bs-green: #198754;
    --bs-teal: #20c997; --bs-cyan: #0dcaf0; --bs-black: #000; --bs-white: #fff;
    --bs-primary: var(--bs-blue); --bs-secondary: #6c757d; --bs-success: var(--bs-green);
    --bs-info: var(--bs-cyan); --bs-warning: var(--bs-yellow); --bs-danger: var(--bs-red);
    --bs-light: #f8f9fa; --bs-dark: #212529; --bs-body-bg: var(--bs-white);
    --bs-body-color: var(--bs-dark); --bs-secondary-bg: #f8f9fa; --bs-tertiary-bg: #e9ecef;
    --bs-border-color: #dee2e6; --bs-link-color: var(--bs-primary); --bs-link-hover-color: #0a58ca;
    --navbar-bg: rgba(255, 193, 7, 0.8); /* Amarillo Warning */
    --card-bg: var(--bs-white); --modal-bg: var(--bs-white);
    --navbar-link-color: #000; --navbar-brand-color: #000;
}

/* TEMA OSCURO PASTEL (NUEVA PALETA VIBRANTE) */
[data-theme="dark"] {
    --dark-bg: #0d1117;
    --dark-surface: #161b22;
    --dark-border: #30363d;
    --dark-primary-text: #c9d1d9;
    --dark-secondary-text: #8b949e;
    --dark-heading-text: #FF9CCE; /* AHORA ROSA PASTEL */
    --dark-link-text: #f0a24f; /* Naranja Pastel */
    --dark-link-hover: #ffc685;
    --dark-accent-pink: #f778ba; /* Rosa Pastel */
    --dark-accent-green: #3fb950; /* Verde Pastel */
    --dark-accent-lavender: #d6b4f7; /* Lavanda Pastel */
    
    --bs-primary: var(--dark-heading-text); --bs-secondary: var(--dark-secondary-text);
    --bs-success: var(--dark-accent-green); --bs-info: #58a6ff; --bs-warning: var(--dark-link-text);
    --bs-danger: #f85149; --bs-light: var(--dark-primary-text); --bs-dark: var(--dark-bg);
    --bs-body-bg: var(--dark-bg); /* Fondo del navegador */
    --bs-body-color: var(--dark-primary-text);
    --bs-secondary-bg: var(--dark-surface); --bs-tertiary-bg: #21262d;
    --bs-border-color: var(--dark-border); --bs-link-color: var(--dark-link-text);
    --bs-link-hover-color: var(--dark-link-hover);
    --navbar-bg: rgba(13, 17, 23, 0.85);
    --card-bg: var(--dark-surface); --modal-bg: var(--dark-surface);
    --navbar-link-color: var(--dark-primary-text); --navbar-brand-color: var(--bs-warning);
}

/* TEMA SEPIA */
[data-theme="sepia"] {
    --sepia-bg: #f4e9d8; --sepia-text: #433422; --sepia-surface: #e9decc;
    --sepia-border: #d3c5b4; --sepia-primary: #9d6b2c; --sepia-primary-hover: #7b5523;
    --bs-primary: var(--sepia-primary); --bs-secondary: #a89d91; --bs-success: #5a8a5f;
    --bs-info: #5f8ea4; --bs-warning: #c88f4b; --bs-danger: #b75d69;
    --bs-light: #fdf6ec; --bs-dark: var(--sepia-text);
    --bs-body-bg: var(--sepia-bg); /* Fondo del navegador */
    --bs-body-color: var(--sepia-text); --bs-secondary-bg: var(--sepia-surface);
    --bs-tertiary-bg: #e0d5c4; --bs-border-color: var(--sepia-border);
    --bs-link-color: var(--sepia-primary); --bs-link-hover-color: var(--sepia-primary-hover);
    --navbar-bg: rgba(233, 222, 204, 0.85);
    --card-bg: #fdf6ec; --modal-bg: #fdf6ec;
    --navbar-link-color: var(--sepia-text); --navbar-brand-color: var(--sepia-primary);
}

/*
* --------------------------------------------------------------------------
* SECCIÓN 2: APLICACIÓN GLOBAL DE ESTILOS DE TEMA
* --------------------------------------------------------------------------
*/
body {
    background-color: var(--bs-body-bg) !important;
    color: var(--bs-body-color) !important;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.card, .modal-content, .list-group-item, .accordion-item {
    background-color: var(--card-bg) !important; color: var(--bs-body-color) !important;
    border: 1px solid var(--bs-border-color) !important;
}
.form-control, .form-select, .input {
    background-color: var(--card-bg) !important; color: #c9d1d9 !important;
    border: 1px solid var(--bs-border-color) !important;
    transition: border-color 0.3s ease; /* Transición para el cambio de borde */
}
/* Nuevo estilo para los labels */
.label {
    color: #c9d1d9 !important;
}
[data-theme="sepia"] .label {
    color: #8c8c8c !important;
}
[data-theme="dark"] .form-control, [data-theme="dark"] .form-select { background-color: var(--bs-tertiary-bg) !important; }
.table { --bs-table-bg: var(--card-bg) !important; --bs-table-color: var(--bs-body-color) !important; --bs-table-border-color: var(--bs-border-color) !important; --bs-table-striped-bg: var(--bs-secondary-bg) !important; }
a { color: var(--bs-link-color) !important; } a:hover { color: var(--bs-link-hover-color) !important; }

.dropdown-menu { background-color: var(--bs-secondary-bg) !important; }
.dropdown-item:hover { background-color: var(--bs-tertiary-bg) !important; }

/* === INICIO CORRECCIÓN DEFINITIVA === */
[data-theme="dark"] .dropdown-menu {
    --bs-dropdown-link-color: var(--dark-primary-text);
}
[data-theme="sepia"] .dropdown-menu {
    --bs-dropdown-link-color: var(--sepia-text);
}
/* === FIN CORRECCIÓN DEFINITIVA === */


/* Overrides de texto y botones */
.text-primary { color: var(--bs-primary) !important; } .text-secondary { color: var(--bs-secondary) !important; }
.text-success { color: var(--bs-success) !important; } .text-danger { color: var(--bs-danger) !important; }
.text-warning { color: var(--bs-warning) !important; } .text-info { color: var(--bs-info) !important; }
[data-theme="dark"] h1, [data-theme="dark"] h2, [data-theme="dark"] h3, [data-theme="dark"] h4, [data-theme="dark"] h5, [data-theme="dark"] h6 { color: var(--dark-heading-text) !important; }

.btn-primary { background-color: var(--bs-primary) !important; border-color: var(--bs-primary) !important; color: var(--bs-light) !important; }
.btn-secondary { background-color: var(--bs-secondary) !important; border-color: var(--bs-secondary) !important; }
.btn-success { background-color: var(--bs-success) !important; border-color: var(--bs-success) !important; }
.btn-danger { background-color: var(--bs-danger) !important; border-color: var(--bs-danger) !important; }
.btn-warning { background-color: var(--bs-warning) !important; border-color: var(--bs-warning) !important; color: var(--bs-dark) !important; }
.btn-info { background-color: var(--bs-info) !important; border-color: var(--bs-info) !important; }
[data-theme="dark"] .btn-primary { color: #fff !important; }

[data-theme="dark"] .navbar-toggler-icon, [data-theme="sepia"] .navbar-toggler-icon { filter: invert(1) !important; }

/*
* --------------------------------------------------------------------------
* SECCIÓN 3: ESTILOS GENERALES DE LAYOUT Y COMPONENTES
* --------------------------------------------------------------------------
*/
/* === INICIO: ESTILOS NAVBAR CENTRALIZADOS (ACTUALIZADO) === */
.navbar {
    background-color: var(--navbar-bg) !important;
    backdrop-filter: blur(5px);
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 1020;
    border-bottom: 1px solid var(--bs-border-color) !important;
    transition: background-color 0.3s ease, border-bottom-color 0.3s ease;
}

.navbar .navbar-brand a {
    color: var(--navbar-brand-color) !important;
}

.navbar .navbar-item {
    color: var(--navbar-link-color) !important;
}

.navbar .navbar-burger span {
    background-color: var(--navbar-link-color) !important;
}
.navbar-brand-container {
    display: flex;
    align-items: center;
}

google-cast-launcher {
    width: 40px;
    height: 40px;
    margin-left: 15px;
    cursor: pointer;
    display: inline-block;
    vertical-align: middle;
}

.navbar .dropdown-menu { max-height: 70vh; overflow-y: auto; }
.navbar-collapse { transition: height 0.35s ease; }

@media (max-width: 991.98px) {
    .navbar-collapse { max-height: 80vh; overflow-y: auto; }
    .nav-item .nav-link .icon-only-mobile { display: inline-block; margin-right: 5px; }
    .nav-item .nav-link .text-only-desktop { display: inline-block; }
    .mobile-separator { border-top: 1px solid var(--bs-border-color); margin: 0.5rem 0; display: block; }
}

@media (min-width: 992px) {
    .nav-item .nav-link .icon-only-mobile { display: none; }
    .nav-item .nav-link .text-only-desktop { display: inline; }
    .mobile-separator { display: none; }
}
/* === FIN: ESTilos NAVBAR CENTRALIZADOS === */

/* === INICIO: ESTILOS BOTÓN FLOTANTE VOLVER ATRÁS === */
.back-fab-button {
    position: fixed;
    bottom: 75px;
    left: 20px;
    z-index: 1000;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
    text-decoration: none;
}
.back-fab-button:hover{
    transform: scale(1.05);
    box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    color: var(--bs-dark) !important;
}
/* === FIN: ESTILOS BOTÓN FLOTANTE VOLVER ATRÁS === */

/* === INICIO: ESTILOS FOOTER === */
.footer {
    background-color: var(--bs-secondary-bg) !important;
    border-top: 1px solid var(--bs-border-color) !important;
    transition: background-color 0.3s ease, border-top-color 0.3s ease;
    display: flex;
    justify-content: center;
    align-items: center;
}
[data-theme="dark"] .footer { background-color: var(--dark-surface) !important; }
[data-theme="dark"] .footer .text-muted,
[data-theme="dark"] .footer a.text-muted { color: var(--dark-primary-text) !important; opacity: 0.9; }
[data-theme="dark"] .footer a.text-muted:hover { color: var(--bs-light) !important; }
[data-theme="sepia"] .footer { background-color: var(--sepia-surface) !important; }
[data-theme="sepia"] .footer .text-muted,
[data-theme="sepia"] .footer a.text-muted { color: var(--sepia-text) !important; opacity: 0.9; }
/* === FIN: ESTILOS FOOTER === */

/* Estilo para el borde del input en estado de hover */
.input:hover {
    border-color: #85E3FF !important;
}

}
